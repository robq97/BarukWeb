@model IEnumerable<Baruk.Models.MPago>

@if (Session["UserType"] != null)
{
    if (Model != null)
    {
        <div class="row"  style="margin-top: 5%">
            <div class="card card blue-grey darken-3 white-text">
                <div class="center">
                    <span class="card-title" style="font-size: 55px">Facturas</span>
                </div>
                <table class="blue-grey white-text centered responsive-table z-depth-4">
                    <thead class="z-depth-1 blue-grey darken-2">
                        <tr>
                            <th>Número de Factura</th>
                            <th>Cédula</th>
                            <th>Nombre</th>
                            <th>Tipo Suscripción</th>
                            <th>Fecha Pago</th>
                            <th>Tipo Pago</th>
                            <th>Descuento</th>
                            <th>Tipo Mensualidad</th>
                            <th>Morosidad</th>
                            <th>Tipo Cliente</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Session["UserType"] != null && Session["UserType"].Equals("Admin"))
                        {
                            @*using (Html.BeginForm("SearchInvoice", "Customer", FormMethod.Post, new { @class = "input - field col s6" }))
                            {
                                <i class="material-icons prefix">search</i>
                                <input name="cedula" id="icon_prefix" type="text" class="validate">
                                <label for="icon_prefix">Ingrese una cédula</label>
                            }*@
                        foreach (var p in Model)
                        {
                            //if (p.Cedula.ToString().Equals(Session["Search"]))
                            //{
                                <tr class="hoverable">
                                    <td>@p.PagoID</td>
                                    <td>@p.Cedula</td>
                                    <td>@p.Nombre</td>
                                    <td>@p.DescTipoSuscripcion</td>
                                    <td>@p.FechaPago</td>
                                    <td>@p.DescTipoPago</td>
                                    <td>@p.DescTipoDescuento</td>
                                    <td>@p.DescTipoMensualidad</td>
                                    <td>@p.DescMorosidad</td>
                                    <td>@p.DescTipoCliente</td>
                                </tr>
                            //}
                        }
                        }
                        @if (Session["UserType"] != null && (Session["UserType"].Equals("1") | Session["UserType"].Equals("2")))
                        {
                            foreach (var p in Model)
                            {
                                if (p.PagoID.ToString().Equals(Session["PaymentID"]))
                                {
                                    <tr>
                                        <td>@p.PagoID</td>
                                        <td>@p.Cedula</td>
                                        <td>@p.Nombre</td>
                                        <td>@p.DescTipoSuscripcion</td>
                                        <td>@p.FechaPago</td>
                                        <td>@p.DescTipoPago</td>
                                        <td>@p.DescTipoDescuento</td>
                                        <td>@p.DescTipoMensualidad</td>
                                        <td>@p.DescMorosidad</td>
                                        <td>@p.DescTipoCliente</td>
                                    </tr>
                                }
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
}
@if (Session["UserType"] == null)
{
    Response.Redirect("~/Information/_Denied");
}

